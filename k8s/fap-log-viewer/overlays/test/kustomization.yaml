apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../../base

patches:
  - target:
      kind: ClusterIssuer
      name: cluster-issuer
    patch: |-
      - op: replace
        path: /spec
        value:
          selfSigned: {}
  - target:
      kind: Ingress
      name: fap-ingress
    patch: |-
      - op: replace
        path: /spec/rules/0/host
        value: fap.local
      - op: replace
        path: /spec/tls/0/hosts/0
        value: fap.local
  - target:
      kind: SealedSecret
      name: fap-secrets
    patch: |-
      - op: replace
        path: /spec/encryptedData/DB_PASSWORD
        value: AgBSGRtJoJ2uJ0tbmEPbIyMG6D7bSgCKebklcPGhty0F0m28Z/vIaDkFv/J2A8Ytg7OR76x7/KDrpOqPavM/2vpnoczUoLD23IFDfxx+Yl7nNxrGCJNjMyxXiyHHhaoBTSW51lFwl21T0LytKZwvGfrQhA+Y5mezsD4bZeZnUbcqJrK9PYazeznfyyz5c3Sz1arfxQHiA1tGl8mBOcjo1hbx3KUGCq5ngQ2r6LLEx/Oo6tSo50474BEhgi9V8IZ6ETu3wdo/H/WPvfFXB+d+/2ZL+YzoHiR1yZj5u8L4usVEMaqnlc0Z43M60XTtkPINqyDpT7rBhoOh6NrAb3ZFYXV5+2ASehQRa6+jeIOR31LpJcVu/fZjg7+yU4M75Y1obqp9uFtw6Hwo6zMbm2CaGP2sQjIpgv0PzdlTn+SmPaOJUoOqxh4Q1h5KSJTajf8dreywJJT8/PaQwkmNOdci8vngU6NHLsOqs//IlTPEB4MdkzP0zjWoXZeCYjFI+WGaSjuUMyDArT6+ZCSoHhwrX15FOo2lcvJmu2Dd34CX+KyIjauAq8G7CExt7K6mCxp7FRACd7MDC3y0NWY2m0kGvaqtfi2SMfdIscfPzGt4xPtW1Mmf7WmR8VWJHk3KqqrVAQX+rQuWhPD6lBhCPMyg1MjrWpF6JuxfDDipqAaRCtxR3DO1z/91WYh9z/PGShtluU5R3z/DeHjVR0REq5jIMmIoxzxSjQ==
  - target:
      kind: SealedSecret
      name: email-credentials
    patch: |-
      - op: replace
        path: /spec/encryptedData/credentials.json
        value: AgDW8CUH0/Du+Vg5ZJ43wXVtDhdgWlVcCP+749K+vH/ElWLZ647ueJTkA2hv/S3HLq3Da4cjIQAxPYvyZFkFGo2k0xjCkzWRMgpvXLW6aJIWkafjaiNbC78Z5FupuvWzech72tDM2UL8Fi/8GXSPeGkOyu/WEwpcRFxcHbKToCkkA2T3GaA2WDYQbIOUeffutyTBats0rjjekIqNO6tvioyYayLpwJ8Ali2a4Q8PFidWFeO2MV/fkcbnv6CSuOaTDK6mYvkOFwxWFSyZVStpEU5vcaGWc54XSKGOfq9ykBUaq+U7FzQuREMsDl/UwE8r7cpYjjbO7+FTIqCvW623SO0WUHeLCp/ZRB+oNfXpgOA8zAq2aohuoO281207yPA1ydw4+aQErRVYsMPXDBa2du29/VZy4+EOU82vE5hjdLZ2RKYRJXc7onUN53Rz0J+Y5vyZ9EpwlPJDxyMjCzHLomKWPifsJrlNLko2dHIBH1FPfRn4eAior/EHGsqYVz7Pmlz2UQUtTbtsWLtkeo6khapiHWmV7MBwD9DGjNClBnIEYDCgYTc6In1mfmUluBFkYA0BrdfVHRs+3u7Gi+ZxooDR8sIRhO+eZGGtb9aQpAmDFhZw/yuZw/7D/WSxK2Bl4wQ1seO9X76+/I5VbfYmVmqxzUVgi3yX+me1QskhueusBR0CvmMvf44f0tVQ6dLAO97sSxUu9zPdzK3FtHsI2Lihz6qi+Nc9hx5AfXfu2CkwncxhBp7ByMDzhHCM1dY5ytDdrbcd1zjjaUh/DPBala+F2n/oXdXvnqw1m9azKULg+xJzL4b2bLTY5qelexZnJHGKJ4H/i9dfYmS0ddOwm1Smu9cDAt94O3yqcUIK8pbIdqhDKTKSB+fH3+thmYax4K/KV5Kxj/OyWQ+H/tIp5r8BoYMOEDyBx+5l5TQ0rk896jd1ihDzs75wqGoWYsMv0llWn7LYYmul7wSLJacjYuvTMtwHQUAWdUiz5MYjbfkaX7KdI3OK+v3sEEiPAwfmbU8dM//2LMBpWVFZPlRIOP1ujD8xKPLtGQKWPPwvf4XwPzTLwuEEJ3p21k9bSTxuRapYBr2UVQa+yli+mc+Zs33dtQb6XqtBTJD4C8optJSglKL4CnOAawNOaREcKK06O2kzfMygkgx7tm+3eNZFMgjqbfZZsfCOv5k6d9+tFQrMKGRpKEI8wsdaNNZ9WAht7vLf+H9uyk3i1zQEgkDiFvdj2RP3fw==

images:
  - name: mylosz/fap-log-viewer-frontend
    newName: mycluster-registry:5000/mylosz/fap-log-viewer-frontend
    newTag: 0.0.1
  - name: mylosz/fap-log-viewer-backend
    newName: mycluster-registry:5000/mylosz/fap-log-viewer-backend
    newTag: 0.0.1
  - name: mylosz/fap-log-viewer-analyser
    newName: mycluster-registry:5000/mylosz/fap-log-viewer-analyser
    newTag: 0.0.1
  - name: mylosz/fap-log-viewer-email-receiver
    newName: mycluster-registry:5000/mylosz/fap-log-viewer-email-receiver
    newTag: 0.0.1
