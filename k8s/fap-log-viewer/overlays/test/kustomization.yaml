apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../../base

patches:
  - target:
      kind: ClusterIssuer
      name: cluster-issuer
    patch: |-
      - op: replace
        path: /spec
        value:
          selfSigned: {}
  - target:
      kind: Ingress
      name: fap-ingress
    patch: |-
      - op: replace
        path: /spec/rules/0/host
        value: fap.local
      - op: replace
        path: /spec/tls/0/hosts/0
        value: fap.local
  - target:
      kind: SealedSecret
      name: fap-secrets
    patch: |-
      - op: replace
        path: /spec/encryptedData/DB_PASSWORD
        value: AgBSGRtJoJ2uJ0tbmEPbIyMG6D7bSgCKebklcPGhty0F0m28Z/vIaDkFv/J2A8Ytg7OR76x7/KDrpOqPavM/2vpnoczUoLD23IFDfxx+Yl7nNxrGCJNjMyxXiyHHhaoBTSW51lFwl21T0LytKZwvGfrQhA+Y5mezsD4bZeZnUbcqJrK9PYazeznfyyz5c3Sz1arfxQHiA1tGl8mBOcjo1hbx3KUGCq5ngQ2r6LLEx/Oo6tSo50474BEhgi9V8IZ6ETu3wdo/H/WPvfFXB+d+/2ZL+YzoHiR1yZj5u8L4usVEMaqnlc0Z43M60XTtkPINqyDpT7rBhoOh6NrAb3ZFYXV5+2ASehQRa6+jeIOR31LpJcVu/fZjg7+yU4M75Y1obqp9uFtw6Hwo6zMbm2CaGP2sQjIpgv0PzdlTn+SmPaOJUoOqxh4Q1h5KSJTajf8dreywJJT8/PaQwkmNOdci8vngU6NHLsOqs//IlTPEB4MdkzP0zjWoXZeCYjFI+WGaSjuUMyDArT6+ZCSoHhwrX15FOo2lcvJmu2Dd34CX+KyIjauAq8G7CExt7K6mCxp7FRACd7MDC3y0NWY2m0kGvaqtfi2SMfdIscfPzGt4xPtW1Mmf7WmR8VWJHk3KqqrVAQX+rQuWhPD6lBhCPMyg1MjrWpF6JuxfDDipqAaRCtxR3DO1z/91WYh9z/PGShtluU5R3z/DeHjVR0REq5jIMmIoxzxSjQ==
  - target:
      kind: SealedSecret
      name: email-credentials
    patch: |-
      - op: replace
        path: /spec/encryptedData/credentials.json
        value: AgAFoC5K0pqbF6taO/ECtTeNLAef6ZVfaOCgZhfLQtxJ8/KvWEFyhCBrzijzSDC9Y/vusmaxxqi6g5iEDbAxPZiBit8tlL88zTh/42UtxneJFyRtrEC88vFhRgm3GVUZ5bQBA1phnVaDp0GmYWaKrL3Uv2Sn4ZFOYgjCHGNJ/uiJ6mnyUkgFs8opMlN5cGB1IdPqu1k6QGurzkZxw+GTMB+PrUn7vBt/HM8C/2tmDaDUzmZaR62EpzJ61VngI1FRFGsaqZ6G73O0YGTdnB6ll0Ifwqu53ALfHmHvJFET1rrN6l6N2H1bgL1XSoIy7uabpj+ThK6v8KMKx3ulgfVITGAfGwm+fXF/ovLvj8glV6f8zH8d/02OTbyVWVYDrVVDTAeK+irGrUCRRCTsQiTrOamWgsJXIZI//A+OjoQwoK2HaBXOuCzv46vv+OGi4TFu2YTBWcw8JMWr6O7OEz51CuYY0WUcoWpTRNUYfuNI4nlevXGcgXdHkfjNll53PkRfTOOWg0g8hWHPqtacozaG2VBh+RqzlVFITJWcFrys4NSzoe9l5QxLy7tTfuBKkinvR5M9esc3NQ4azEl7YoRTh7fVgtWeoLnspdhaMwEJS6cm2x46x/LsiyAlniN611uhzlHl2vOv7miXeFP9u5AMvqa4yBb1jveYIfXDUKFSaFFQzxj6hmzOikmSisqJCSWg8tKvEvhoFM8uUdUQYht4LQlF2WLigtye1dfpcLDzH+2F9XrrLKAqpnqdTJ2MJ2M1x+7ZLsRm3Wb2/vaegu5drj3YFkLQefb5FPTsjox0TFsQNzs+td3DKarqAHghNKlpqvLjXx7KiUxqADdV0Q2LcIiegpzYBiVGGgQ+2N9dqelSaKyGpe/cYsRFVu6GC5grdP1oJEJCYEftMz0yZV0rOhW/fHkjhOJZgC+fzTolt8qQYHh6HrYQGi4/Mc6AEkkfVxeuT4GoA03id55EfxGVfAfuMbiaUh7D32Xzurfb6aV6gA0Kb7HharMI31a372bGmTA6VDeD6VPxFsHmIWwnlOjAzPM8rM1CvBzO/ebE3XKoEwx/TqVAeMxjUzycbAeIpXdeGomBwO7EC6uWpejCV6+etxgRfmEM2SiQpgtGA1/FSPvJKITrLGcm3iaYnQoeRj39fQ5MNbtJpbraYkDRBfyxzbo3jLedDu2yHAZtWizSmcQZan8FeLFq6o9zs5Fe2F4UugHBvIIzHLNXLFtN2DgIGWZaww==

images:
  - name: mylosz/fap-log-viewer-frontend
    newName: mycluster-registry:5000/mylosz/fap-log-viewer-frontend
    newTag: 0.0.1
  - name: mylosz/fap-log-viewer-backend
    newName: mycluster-registry:5000/mylosz/fap-log-viewer-backend
    newTag: 0.0.1
  - name: mylosz/fap-log-viewer-analyser
    newName: mycluster-registry:5000/mylosz/fap-log-viewer-analyser
    newTag: 0.0.1
